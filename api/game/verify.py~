import bowl_redis

class Verify(object):

    def __init__(self):
        pass

    @staticmethod
    def verify(game_key, player_key):
        #game_key is a hashed game_id
        #first see if this game exists and not ended
        verifyGame = bowl_redis.VerifyGameByHash()
        reply = verifyGame.execute(game_key)
        game_id = reply.game_id
        
        if not reply:
            return None
        
        #player_key is a hashed player_name-game_id
        verifyPlayer = bowl_redis.VerifyPlayerByHash()
        reply = verifyPlayer.execute(game_id, player_key)

        if not reply:
            return None

        return { game_id, player_id, game_key, player_key }
